```
import java.util.*;
import java.io.*;
public class Q14677 {
    static int answer,n;
    static Character[] order = {'B', 'L', 'D'};
    static String medicine;
    static boolean[][][] visit;
    public static void main(String[] args) throws IOException{
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        n = Integer.parseInt(br.readLine());
        // B 아침, L 점심, D 저녁 약
        medicine = br.readLine();
        visit = new boolean[n*3][n*3][3];
        check(0, n*3-1, 0, 0);
        System.out.print(answer);
    }
    static void check(int st, int end, int cnt, int idx){
        answer = Math.max(answer, cnt);
        if(idx>2) idx=0;
        if(st>=n*3 || end<0 || st>end) return;
        if(visit[st][end][idx]) return;
        visit[st][end][idx] = true;
        if(st==end) {
            if(medicine.charAt(st)==order[idx]) cnt++;
            answer = Math.max(answer, cnt);
            return;
        }
        if(medicine.charAt(st)==order[idx]) check(st+1, end, cnt+1, idx+1);
        if(medicine.charAt(end)==order[idx]) check(st, end-1, cnt+1, idx+1);
    }
}
```
